<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Cen√≠k kiosku s pivem, j√≠dlem a n√°poji">
    <title>Cen√≠k Kiosku</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #007AFF;
            --secondary: #2D3839;
            --border: #3A4647;
            --text: #FFF;
            --highlight: #005BB5;
            --error: #FF3B30;
        }
        html, body, div, span, input, h1, h2, h3, p, ul, li {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: Roboto, sans-serif;
            background: var(--secondary);
            color: var(--text);
            margin: 15px;
            overflow-x: hidden;
        }
        h1 {
            text-align: center;
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 15px;
        }
        .search-container {
            position: relative;
            width: 100%;
            margin-bottom: 20px;
        }
        #search {
            width: 100%;
            padding: 12px 40px 12px 12px;
            font-size: 18px;
            border: 1px solid var(--border);
            border-radius: 12px;
            background: var(--secondary);
            color: var(--text);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        #search:focus {
            outline: none;
            transform: scale(1.02);
            box-shadow: 0 0 8px rgba(0, 122, 255, 0.3);
        }
        .clear-btn {
            display: none;
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 20px;
            color: var(--text);
            cursor: pointer;
            padding: 5px;
            transition: transform 0.3s;
        }
        .clear-btn:hover, .clear-btn:focus {
            transform: translateY(-50%) rotate(90deg);
        }
        .category {
            margin-bottom: 20px;
            background: var(--secondary);
            border-radius: 12px;
            overflow: hidden;
        }
        .category.hidden {
            display: none;
        }
        .category h2 {
            font-size: 20px;
            font-weight: 500;
            background: var(--primary);
            color: var(--text);
            padding: 10px;
            margin-bottom: 10px;
        }
        .item {
            display: flex;
            justify-content: space-between;
            padding: 12px 15px;
            font-size: 16px;
            background: var(--border);
            margin: 5px 10px;
            border-radius: 8px;
            transition: transform 0.2s;
        }
        .item:hover, .item:focus {
            transform: translateY(-2px);
        }
        .item.hidden {
            display: none;
        }
        .item.highlight {
            padding: 15px;
            border: 1px solid var(--border);
            border-radius: 12px;
            margin: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            color: var(--text);
        }
        .item.match {
            font-size: 24px;
            font-weight: 500;
            background: var(--primary);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        .item.fuzzy-match {
            font-size: 20px;
            background: var(--highlight);
        }
        .floating-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary);
            color: var(--text);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
            cursor: pointer;
            transition: background 0.3s;
        }
        .floating-btn:hover, .floating-btn:focus {
            background: var(--highlight);
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            overflow-y: auto;
        }
        .modal.active {
            display: block;
        }
        .modal-content {
            background: var(--secondary);
            margin: 10% auto;
            padding: 20px;
            border-radius: 16px;
            max-width: 600px;
            color: var(--text);
            position: relative;
        }
        .modal-content h2 {
            font-size: 24px;
            color: var(--primary);
            margin-bottom: 15px;
        }
        .modal-content h3 {
            font-size: 18px;
            margin-top: 15px;
            color: var(--text);
        }
        .modal-content p {
            font-size: 16px;
            line-height: 1.5;
            margin-bottom: 10px;
        }
        .modal-content ul {
            margin-left: 20px;
            margin-bottom: 10px;
        }
        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            color: var(--text);
            cursor: pointer;
        }
        .error-message {
            color: var(--error);
            text-align: center;
            margin-bottom: 15px;
            display: none;
        }
        @media (max-width: 600px) {
            h1 { font-size: 24px; }
            #search { font-size: 16px; padding: 10px 35px 10px 10px; }
            .item { font-size: 14px; padding: 10px 12px; }
            .item.match, .item.fuzzy-match { padding: 12px; }
            .item.match { font-size: 20px; }
            .item.fuzzy-match { font-size: 18px; }
            .modal-content { margin: 15% 10px; padding: 15px; }
            .category h2 { font-size: 18px; }
        }
        @media (max-width: 400px) {
            h1 { font-size: 20px; }
            #search { font-size: 14px; }
            .item { font-size: 12px; }
            .modal-content h2 { font-size: 20px; }
        }
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation: none !important;
                transition: none !important;
            }
        }
    </style>
</head>
<body>
    <h1>Cen√≠k Kiosku</h1>
    <div class="search-container">
        <input type="text" id="search" placeholder="Hledej polo≈æku..." aria-label="Vyhledat polo≈æky v cen√≠ku">
        <span class="clear-btn" aria-label="Vymazat vyhled√°v√°n√≠" tabindex="0">‚úñ</span>
    </div>
    <div class="error-message" id="errorMessage">Nepoda≈ôilo se naƒç√≠st data. Zkuste to znovu.</div>
    <div id="categories"></div>
    <div class="floating-btn" aria-label="Otev≈ô√≠t recepty" tabindex="0">üçπ</div>
    <div class="modal" id="recipesModal" role="dialog" aria-labelledby="recipesTitle" aria-modal="true">
        <div class="modal-content">
            <span class="close-btn" aria-label="Zav≈ô√≠t recepty" tabindex="0">√ó</span>
            <h2 id="recipesTitle">Recepty na n√°poje</h2>
            <h3>Sva≈ô√°k</h3>
            <p><strong>Ingredience:</strong></p>
            <ul>
                <li>200 ml ƒçerven√©ho v√≠na (such√© nebo polosuch√©)</li>
                <li>5 g (1 l≈æiƒçka) krystalov√©ho cukru</li>
                <li>2 h≈ôeb√≠ƒçky</li>
                <li>1 cm sko≈ôicov√© k≈Øry</li>
                <li>1 pl√°tek pomeranƒçe (5 mm tlust√Ω)</li>
            </ul>
            <p><strong>Postup:</strong> V hrnci zah≈ôejte v√≠no s cukrem, h≈ôeb√≠ƒçky, sko≈ôic√≠ a pomeranƒçem na 70 ¬∞C (neva≈ôte, aby se zachovala chu≈•). P≈ôeceƒète a pod√°vejte tepl√© v keramick√©m hrnku.</p>
            <h3>Grog</h3>
            <p><strong>Ingredience:</strong></p>
            <ul>
                <li>40 ml tmav√©ho rumu (nap≈ô. Tuzem√°k)</li>
                <li>150 ml hork√© vody (80 ¬∞C)</li>
                <li>10 g (1 l≈æiƒçka) medu</li>
                <li>15 ml (1 l≈æ√≠ce) ƒçerstv√© citronov√© ≈°≈•√°vy</li>
                <li>1 pl√°tek citronu (5 g)</li>
            </ul>
            <p><strong>Postup:</strong> Do sklenky nalijte rum, p≈ôidejte med a citronovou ≈°≈•√°vu. Zalijte horkou vodou, prom√≠chejte a ozdobte pl√°tkem citronu. Pod√°vejte hork√©.</p>
            <h3>Hork√° ƒçokol√°da</h3>
            <p><strong>Ingredience:</strong></p>
            <ul>
                <li>20 g ho≈ôk√© ƒçokol√°dy (min. 70 % kakaa)</li>
                <li>150 ml plnotuƒçn√©ho ml√©ka</li>
                <li>1 g (≈°petka) mlet√© sko≈ôice</li>
                <li>5 g (1 l≈æiƒçka) krystalov√©ho cukru</li>
                <li>30 g ≈°lehaƒçky (voliteln√©)</li>
            </ul>
            <p><strong>Postup:</strong> V hrnci zah≈ôejte ml√©ko na 80 ¬∞C, p≈ôidejte nal√°manou ƒçokol√°du, sko≈ôici a cukr. M√≠chejte, dokud se ƒçokol√°da nerozpust√≠. Nalijte do hrnku, p≈ô√≠padnƒõ ozdobte ≈°lehaƒçkou.</p>
            <h3>V√≠no</h3>
            <p><strong>Ingredience:</strong></p>
            <ul>
                <li>100 ml b√≠l√©ho nebo ƒçerven√©ho v√≠na (dle preference)</li>
            </ul>
            <p><strong>Postup:</strong> ƒåerven√© v√≠no pod√°vejte p≈ôi 16‚Äì18 ¬∞C, b√≠l√© vychlazen√© na 8‚Äì10 ¬∞C. Nalijte do vinn√© sklenky a pod√°vejte.</p>
            <h3>Prosecco</h3>
            <p><strong>Ingredience:</strong></p>
            <ul>
                <li>100 ml prosecca (vychlazen√© na 6‚Äì8 ¬∞C)</li>
                <li>1 pl√°tek citronu nebo 1 jahoda (voliteln√©)</li>
            </ul>
            <p><strong>Postup:</strong> Nalijte vychlazen√© prosecco do fl√©tny na ≈°ampa≈àsk√©. P≈ôidejte citron nebo jahodu pro ozdobu a pod√°vejte.</p>
            <h3>Aperol</h3>
            <p><strong>Ingredience:</strong></p>
            <ul>
                <li>50 ml Aperolu</li>
                <li>3 kostky ledu</li>
                <li>1 pl√°tek pomeranƒçe (5 mm)</li>
            </ul>
            <p><strong>Postup:</strong> Do sklenky s ledem nalijte Aperol. Ozdobte pl√°tkem pomeranƒçe a pod√°vejte jako aperitiv.</p>
            <h3>Aperol Spritz</h3>
            <p><strong>Ingredience:</strong></p>
            <ul>
                <li>60 ml prosecco (vychlazen√©)</li>
                <li>40 ml Aperol</li>
                <li>20 ml perliv√© vody</li>
                <li>3 kostky ledu</li>
                <li>1 pl√°tek pomeranƒçe (5 mm)</li>
            </ul>
            <p><strong>Postup:</strong> Do sklenice s ledem nalijte prosecco, Aperol a perlivou vodu. Jemnƒõ prom√≠chejte, p≈ôidejte pl√°tek pomeranƒçe a pod√°vejte vychlazen√©.</p>
            <h3>Tepl√Ω Aperol</h3>
            <p><strong>Ingredience:</strong></p>
            <ul>
                <li>100 ml b√≠l√©ho v√≠na (such√©)</li>
                <li>50 ml Aperol</li>
                <li>10 g (1 l≈æiƒçka) medu</li>
                <li>1 pl√°tek pomeranƒçe (5 mm)</li>
            </ul>
            <p><strong>Postup:</strong> V hrnci zah≈ôejte v√≠no s Aperolem, medem a pomeranƒçem na 60‚Äì70 ¬∞C (neva≈ôte). P≈ôeceƒète do sklenky a pod√°vejte tepl√©.</p>
            <h3>Beefeater Pink & Tonic</h3>
            <p><strong>Ingredience:</strong></p>
            <ul>
                <li>40 ml Beefeater Pink ginu</li>
                <li>120 ml toniku (vychlazen√Ω)</li>
                <li>3 kostky ledu</li>
                <li>1 pl√°tek jahody nebo grapefruitu (5 mm)</li>
            </ul>
            <p><strong>Postup:</strong> Do sklenky s ledem nalijte gin a tonik. Jemnƒõ prom√≠chejte, p≈ôidejte pl√°tek jahody nebo grapefruitu a pod√°vejte vychlazen√©.</p>
            <h3>Iced Latte</h3>
            <p><strong>Ingredience:</strong></p>
            <ul>
                <li>1 k√°vov√° kapsle (30 ml espresso, nap≈ô. Nespresso)</li>
                <li>150 ml plnotuƒçn√©ho ml√©ka (vychlazen√©, 4‚Äì6 ¬∞C)</li>
                <li>100 g kostek ledu (4‚Äì8 kostek)</li>
                <li>10 g (2 l≈æiƒçky) krystalov√©ho cukru nebo sirupu (voliteln√©)</li>
            </ul>
            <p><strong>Postup:</strong> Uva≈ôte espresso z kapsle do mal√© ≈°√°lku a nechte vychladnout na pokojovou teplotu (5 minut). Do vysok√© sklenice (300 ml) vlo≈æte kostky ledu, nalijte vychlazen√© ml√©ko a p≈ôidejte cukr nebo sirup, pokud chcete slad≈°√≠ chu≈•. Pomalu nalijte espresso p≈ôes led, aby se vytvo≈ôily vrstvy. Jemnƒõ prom√≠chejte l≈æiƒçkou a pod√°vejte s brƒçkem.</p>
        </div>
    </div>
    <script>
        const categories = [
            {
                name: "P√≠pa, toƒçen√©",
                items: [
                    { name: "Zlat√Ω Ba≈æant 12 0,3l", price: "39 Kƒç" },
                    { name: "Zlat√Ω Ba≈æant 12 0,5l", price: "65 Kƒç" },
                    { name: "Kru≈°ovice 11 0,3l", price: "36 Kƒç" },
                    { name: "Kru≈°ovice 11 0,5l", price: "60 Kƒç" },
                    { name: "Zlatopramen Citron Radler 0,3l", price: "36 Kƒç" },
                    { name: "Zlatopramen Citron Radler 0,5l", price: "60 Kƒç" },
                    { name: "Malinovka 0,3l", price: "36 Kƒç" },
                    { name: "Malinovka 0,5l", price: "60 Kƒç" },
                    { name: "Bil√Ω hrozn 0,3l", price: "36 Kƒç" },
                    { name: "Bil√Ω hrozn 0,5l", price: "60 Kƒç" }
                ]
            },
            {
                name: "J√≠dlo",
                items: [
                    { name: "Vep≈ôov√© koleno zadn√≠ (1 kg, s kost√≠)", price: "250 Kƒç" },
                    { name: "Belgick√© vafle (1 ks, se ≈°lehaƒçkou, ƒçokol√°dou, zmrzlinou)", price: "120 Kƒç" },
                    { name: "Belgick√© vafle (1 ks, se ≈°lehaƒçkou, ƒçokol√°dou)", price: "80 Kƒç" },
                    { name: "Vep≈ôov√Ω ≈ô√≠zek v housce (150 g)", price: "150 Kƒç" },
                    { name: "Vep≈ôov√Ω ≈ô√≠zek (150 g)", price: "130 Kƒç" },
                    { name: "Klob√°sa (100 g) + chl√©b (50 g) + ho≈ôƒçice (10 g)", price: "90 Kƒç" },
                    { name: "Grilovan√Ω hermel√≠n (100 g) + brusinkov√° om√°ƒçka (30 g) + chl√©b (50 g)", price: "90 Kƒç" },
                    { name: "P√°rky (2 ks, 100 g) + chl√©b (50 g) + ho≈ôƒçice/keƒçup (10 g)", price: "80 Kƒç" },
                    { name: "P√°rek v rohl√≠ku (50 g p√°rek, 80 g rohl√≠k)", price: "50 Kƒç" },
                    { name: "Hamburger ku≈ôec√≠ (150 g)", price: "80 Kƒç" },
                    { name: "Cheeseburger ku≈ôec√≠ (150 g, s√Ωr 20 g)", price: "90 Kƒç" },
                    { name: "Lango≈° (200 g, ƒçesnek, keƒçup 20 g, s√Ωr 50 g)", price: "90 Kƒç" },
                    { name: "Sma≈æen√Ω s√Ωr v housce (100 g s√Ωr, 80 g houska)", price: "110 Kƒç" },
                    { name: "Sma≈æen√Ω ku≈ôec√≠ ≈ô√≠zek v housce (100 g ≈ô√≠zek, 80 g houska)", price: "110 Kƒç" },
                    { name: "Sma≈æen√Ω s√Ωr (100 g)", price: "90 Kƒç" },
                    { name: "Sma≈æen√Ω ku≈ôec√≠ ≈ô√≠zek (100 g)", price: "90 Kƒç" },
                    { name: "Hranolky (150 g)", price: "80 Kƒç" },
                    { name: "Pizza (r≈Øzn√© druhy, 400 g)", price: "200 Kƒç" },
                    { name: "Palaƒçinky (2 ks, 100 g) + d≈æem (40 g) + ≈°lehaƒçka (30 g)", price: "90 Kƒç" },
                    { name: "Palaƒçinky (2 ks, 100 g) + zmrzlina (100 g)", price: "130 Kƒç" },
                    { name: "Brambor√°ƒçky (3 ks, 150 g)", price: "90 Kƒç" },
                    { name: "Ku≈ôec√≠ stripsy (4 ks, 120 g)", price: "90 Kƒç" },
                    { name: "Hovƒõz√≠ hamburger Black Angus (150 g) + slanina (20 g) + s√Ωr (20 g) + zelenina", price: "190 Kƒç" },
                    { name: "Tvarohov√© bor≈Øvkov√© knedl√≠ky (5 ks, 200 g) + ≈°lehaƒçka (30 g) + poleva (40 g)", price: "180 Kƒç" },
                    { name: "Chl√©b nav√≠c (50 g)", price: "5 Kƒç" },
                    { name: "Keƒçup/tatarka/ho≈ôƒçice (20 ml)", price: "20 Kƒç" }
                ]
            },
            {
                name: "Sladkosti a drobnosti",
                items: [
                    { name: "Mal√° modr√° ml√©ƒçn√° ƒçokol√°da Zv√≠kov (60 g)", price: "50 Kƒç" },
                    { name: "Big Chew ≈æv√Ωkaƒçka (10 g)", price: "5 Kƒç" },
                    { name: "Pendrek (20 g)", price: "10 Kƒç" },
                    { name: "L√≠z√°tko (15 g)", price: "10 Kƒç" },
                    { name: "Tatranky (50 g)", price: "25 Kƒç" },
                    { name: "Mi≈àonky (50 g)", price: "25 Kƒç" },
                    { name: "Orbit ≈æv√Ωkaƒçky (14 g)", price: "25 Kƒç" }
                ]
            },
            {
                name: "N√°poje - plechovky a lahve",
                items: [
                    { name: "Plze≈à plech (0,5 l)", price: "60 Kƒç" },
                    { name: "Pepsi plech (0,33 l)", price: "45 Kƒç" },
                    { name: "Relax d≈æus (0,25 l)", price: "30 Kƒç" },
                    { name: "Medovina Zv√≠kov (0,5 l)", price: "150 Kƒç" },
                    { name: "Z√≥n limon√°da (0,5 l)", price: "45 Kƒç" },
                    { name: "Cracker (0,33 l)", price: "45 Kƒç" },
                    { name: "Zlat√Ω Ba≈æant plech (0,5 l)", price: "45 Kƒç" },
                    { name: "Birell plech (0,5 l)", price: "45 Kƒç" },
                    { name: "Kozel sklo (0,5 l)", price: "45 Kƒç" },
                    { name: "Gambrinus plech (0,5 l)", price: "45 Kƒç" },
                    { name: "Tanja voda perliv√°/neperliv√° (0,5 l)", price: "25 Kƒç" },
                    { name: "Mattoni (0,5 l)", price: "35 Kƒç" },
                    { name: "Ledov√Ω ƒçaj (0,5 l)", price: "45 Kƒç" },
                    { name: "Big Shock (0,25 l)", price: "45 Kƒç" }
                ]
            },
            {
                name: "K√°va a tepl√© n√°poje",
                items: [
                    { name: "Tureck√° k√°va (200 ml)", price: "40 Kƒç" },
                    { name: "Rozpustn√° k√°va (200 ml)", price: "50 Kƒç" },
                    { name: "Espresso (30 ml)", price: "60 Kƒç" },
                    { name: "Espresso s ml√©kem (50 ml)", price: "70 Kƒç" },
                    { name: "Cappuccino (150 ml)", price: "75 Kƒç" },
                    { name: "Latte (200 ml)", price: "80 Kƒç" },
                    { name: "ƒåaj (200 ml)", price: "40 Kƒç" },
                    { name: "Hork√° ƒçokol√°da (150 ml)", price: "70 Kƒç" },
                    { name: "Ml√≠ƒçko nav√≠c (50 ml)", price: "10 Kƒç" },
                    { name: "Grog (200 ml)", price: "80 Kƒç" },
                    { name: "Sva≈ô√°k (200 ml)", price: "80 Kƒç" },
                    { name: "Icedov√© latte (300 ml)", price: "45 Kƒç" }
                ]
            },
            {
                name: "Alkohol",
                items: [
                    { name: "V√≠no (100 ml, b√≠l√©/ƒçerven√©)", price: "50 Kƒç" },
                    { name: "Prosecco (100 ml)", price: "40 Kƒç" },
                    { name: "Aperol (150 ml)", price: "130 Kƒç" },
                    { name: "Tvrd√Ω alkohol (20 ml)", price: "40 Kƒç" },
                    { name: "Tvrd√Ω alkohol (40 ml)", price: "60 Kƒç" },
                    { name: "Tepl√Ω Aperol (150 ml)", price: "130 Kƒç" },
                    { name: "Aperol Spritz (300 ml)", price: "150 Kƒç" },
                    { name: "Beefeater Pink & Tonic (300 ml)", price: "130 Kƒç" }
                ]
            },
            {
                name: "Pochutiny",
                items: [
                    { name: "TUC krekry (50 g)", price: "35 Kƒç" },
                    { name: "Slan√© tyƒçinky (50 g)", price: "40 Kƒç" },
                    { name: "Krupky (50 g)", price: "30 Kƒç" },
                    { name: "Solen√© bramb≈Ørky (75 g)", price: "45 Kƒç" }
                ]
            },
            {
                name: "Bagety",
                items: [
                    { name: "Bageta pepperoni (200 g)", price: "80 Kƒç" },
                    { name: "Bageta s√Ωr & rajƒçe (200 g)", price: "80 Kƒç" }
                ]
            }
        ];

        function renderCategories() {
            const container = document.getElementById('categories');
            categories.forEach(category => {
                const catDiv = document.createElement('div');
                catDiv.className = 'category';
                catDiv.innerHTML = `<h2>${category.name}</h2>` +
                    category.items.map(item => `<div class="item"><span>${item.name}</span><span>${item.price}</span></div>`).join('');
                container.appendChild(catDiv);
            });
        }

        function debounce(func, delay) {
            let timeout;
            return function (...args) {
                clearTimeout(timeout);
                timeout = setTimeout(() => func.apply(this, args), delay);
            };
        }

        function filterItems() {
            const query = document.getElementById('search').value.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g, '');
            const items = document.querySelectorAll('.item');
            const clearBtn = document.querySelector('.clear-btn');
            clearBtn.style.display = query ? 'block' : 'none';

            items.forEach(item => {
                const text = item.textContent.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g, '');
                const isExactMatch = text === query;
                const isFuzzyMatch = text.includes(query) && !isExactMatch;

                item.classList.toggle('hidden', !isExactMatch && !isFuzzyMatch);
                item.classList.toggle('highlight', isExactMatch || isFuzzyMatch);
                item.classList.toggle('match', isExactMatch);
                item.classList.toggle('fuzzy-match', isFuzzyMatch);
            });

            document.querySelectorAll('.category').forEach(category => {
                const visibleItems = category.querySelectorAll('.item:not(.hidden)');
                category.classList.toggle('hidden', visibleItems.length === 0);
            });
        }

        function clearSearch() {
            const search = document.getElementById('search');
            search.value = '';
            filterItems();
            search.focus();
        }

        function openModal() {
            const modal = document.getElementById('recipesModal');
            modal.classList.add('active');
            const closeBtn = modal.querySelector('.close-btn');
            closeBtn.focus();

            modal.addEventListener('keydown', trapFocus);
            document.addEventListener('keydown', closeOnEsc);
        }

        function closeModal() {
            const modal = document.getElementById('recipesModal');
            modal.classList.remove('active');
            document.querySelector('.floating-btn').focus();

            modal.removeEventListener('keydown', trapFocus);
            document.removeEventListener('keydown', closeOnEsc);
        }

        function trapFocus(e) {
            const modal = document.getElementById('recipesModal');
            const focusable = modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
            const first = focusable[0];
            const last = focusable[focusable.length - 1];

            if (e.key === 'Tab') {
                if (e.shiftKey && document.activeElement === first) {
                    e.preventDefault();
                    last.focus();
                } else if (!e.shiftKey && document.activeElement === last) {
                    e.preventDefault();
                    first.focus();
                }
            }
        }

        function closeOnEsc(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        }

        document.getElementById('search').addEventListener('input', debounce(filterItems, 300));
        document.querySelector('.clear-btn').addEventListener('click', clearSearch);
        document.querySelector('.clear-btn').addEventListener('keydown', e => {
            if (e.key === 'Enter' || e.key === ' ') {
                clearSearch();
            }
        });
        document.querySelector('.floating-btn').addEventListener('click', openModal);
        document.querySelector('.floating-btn').addEventListener('keydown', e => {
            if (e.key === 'Enter' || e.key === ' ') {
                openModal();
            }
        });
        document.querySelector('.close-btn').addEventListener('click', closeModal);
        document.querySelector('.close-btn').addEventListener('keydown', e => {
            if (e.key === 'Enter' || e.key === ' ') {
                closeModal();
            }
        });

        renderCategories();
    </script>
</body>
</html>
